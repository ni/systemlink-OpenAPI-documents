swagger: '2.0'
info:
  version: '1'
  title: Test Monitor Web Service
  description: Test Monitor HTTP API
  contact:
    name: National Instruments
    url: 'https://www.ni.com/systemlink'
    email: support@ni.com
basePath: /nitestmonitor
consumes:
  - application/json
produces:
  - application/json
securityDefinitions:
  apiKeyAuth:
    type: apiKey
    name: x-ni-api-key
    in: header
  basicAuth:
    type: basic
  cookieAuth:
    type: apiKey
    in: header
    name: Cookie
security:
  - apiKeyAuth: []
  - basicAuth: []
  - cookieAuth: []
x-ni-routing-key: Skyline.TestMonitor
definitions:
  Error:
    description: Contains error information
    type: object
    properties:
      name:
        description: String error code
        type: string
      code:
        description: Numeric error code
        type: integer
        format: int32
      resourceType:
        description: Type of resource associated with the error
        type: string
      resourceId:
        description: Identifier of the resource associated with the error
        type: string
      message:
        description: Complete error message
        type: string
      args:
        description: Positional argument values for the error code
        type: array
        items:
          type: string
      innerErrors:
        type: array
        items:
          $ref: '#/definitions/Error'
    example:
      name: Skyline.OneOrMoreErrorsOccurred
      code: -251040
      message: >-
        One or more errors occurred. See the contained list for details of each
        error.
      args: []
      innerErrors:
        - name: TestMonitor.InvalidId
          code: -253700
          resourceType: TestResult
          resourceId: 4afb2ce3741fe11d88838cc9
          message: Invalid Id.
          args: []
  Operation:
    description: Operation provided by the API
    type: object
    properties:
      available:
        type: boolean
        description: Whether the operation is available to the caller
      version:
        type: integer
        format: int32
        description: Version of the available operation
    required: [available]
    example:
      available: true
      version: 1
  V1Operations:
    title: V1 Operations
    description: V1 operations
    type: object
    properties:
      operations:
        description: Available operations in the v1 version of the API.
        type: object
        properties:
          getResults:
            $ref: '#/definitions/Operation'
          queryResults:
            $ref: '#/definitions/Operation'
          createResults:
            $ref: '#/definitions/Operation'
          updateResults:
            $ref: '#/definitions/Operation'
          deleteResult:
            $ref: '#/definitions/Operation'
          deleteManyResults:
            $ref: '#/definitions/Operation'
          getSteps:
            $ref: '#/definitions/Operation'
          querySteps:
            $ref: '#/definitions/Operation'
          createSteps:
            $ref: '#/definitions/Operation'
          updateSteps:
            $ref: '#/definitions/Operation'
          deleteStep:
            $ref: '#/definitions/Operation'
          deleteManySteps:
            $ref: '#/definitions/Operation'
  V2Operations:
    title: V2 Operations
    description: V2 operations
    type: object
    properties:
      operations:
        description: Available operations in the v2 version of the API.
        type: object
        properties:
          getResults:
            $ref: '#/definitions/Operation'
          queryResults:
            $ref: '#/definitions/Operation'
          createResults:
            $ref: '#/definitions/Operation'
          updateResults:
            $ref: '#/definitions/Operation'
          deleteResult:
            $ref: '#/definitions/Operation'
          deleteManyResults:
            $ref: '#/definitions/Operation'
          getSteps:
            $ref: '#/definitions/Operation'
          querySteps:
            $ref: '#/definitions/Operation'
          createSteps:
            $ref: '#/definitions/Operation'
          updateSteps:
            $ref: '#/definitions/Operation'
          deleteStep:
            $ref: '#/definitions/Operation'
          deleteManySteps:
            $ref: '#/definitions/Operation'
          getProducts:
            $ref: '#/definitions/Operation'
          queryProducts:
            $ref: '#/definitions/Operation'
          createProducts:
            $ref: '#/definitions/Operation'
          updateProducts:
            $ref: '#/definitions/Operation'
          deleteProducts:
            $ref: '#/definitions/Operation'
          deleteManyProducts:
            $ref: '#/definitions/Operation'
  StatusObject:
    title: Status Object
    description: Status object comprised of a type and display name
    type: object
    required:
      - statusType
    properties:
      statusType:
        description: Status type enum
        type: string
        enum:
          - LOOPING
          - SKIPPED
          - CUSTOM
          - DONE
          - PASSED
          - FAILED
          - RUNNING
          - WAITING
          - TERMINATED
          - ERRORED
          - TIMED_OUT
        example: PASSED
      statusName:
        description: Status name
        type: string
        example: Passed
  NamedValueObject:
    title: Named Value
    description: Represents a named value or parameter
    type: object
    required:
      - name
    properties:
      name:
        description: The name of the value
        type: string
        example: Voltage
      value:
        description: The value
        type: object
        example: 1.3
  ProductField:
    title: Product Field
    description: An enumeration of all fields in a Product.
    type: string
    enum:
      - ID
      - PART_NUMBER
      - NAME
      - FAMILY
      - UPDATED_AT
      - KEYWORDS
      - PROPERTIES
      - FILE_IDS
    example:
      FAMILY
  ResultField:
    title: Result Field
    description: An enumeration of all fields in a Result.
    type: string
    enum:
      - ID
      - STATUS
      - STARTED_AT
      - UPDATED_AT
      - PROGRAM_NAME
      - SYSTEM_ID
      - HOST_NAME
      - OPERATOR
      - SERIAL_NUMBER
      - PRODUCT
      - TOTAL_TIME_IN_SECONDS
      - KEYWORDS
      - PROPERTIES
      - FILE_IDS
      - STATUS_TYPE_SUMMARY
    example:
      PROGRAM_NAME
  StepField:
    title: Step Field
    description: An enumeration of all fields in a Step.
    type: string
    enum:
      - NAME
      - STEP_TYPE
      - STEP_ID
      - PARENT_ID
      - RESULT_ID
      - PATH
      - PATH_IDS
      - STATUS
      - TOTAL_TIME_IN_SECONDS
      - STARTED_AT
      - UPDATED_AT
      - INPUTS
      - OUTPUTS
      - DATA_MODEL
      - DATA
    example:
      STEP_TYPE
  ResultSortDefinitionObject:
    title: Result Sort Definition
    description: Defines the field and direction for sorting test results.
    type: object
    required:
      - field
    properties:
      field:
        $ref: '#/definitions/ResultField'
      orderByDescending:
        type: boolean
        default: false
  StepSortDefinitionObject:
    title: Step Sort Definition
    description: Defines the field and direction for sorting test steps.
    type: object
    required:
      - field
    properties:
      field:
        $ref: '#/definitions/StepField'
      orderByDescending:
        type: boolean
        default: false
  QueryOperation:
    title: Query Operation
    description: >-
      Query operation enum. Note that 'LESS_THAN', 'GREATER_THAN', 'LESS_THAN_OR_EQUAL', and
      'GREATER_THAN_OR_EQUAL' are only supported when the data type of the comparison is a string,
      ISO date time, or numeric value. These are not supported on booleans, arrays, or objects
      (also known as dictionaries).
    type: string
    enum:
      - EQUAL
      - NOT_EQUAL
      - LESS_THAN
      - GREATER_THAN
      - LESS_THAN_OR_EQUAL
      - GREATER_THAN_OR_EQUAL
  DictionaryQueryObject:
    title: Dictionary Query
    description: Dictionary query object
    type: object
    required:
      - name
    properties:
      name:
        description: The name of the dictionary key to query for.
        type: string
      value:
        description: >-
          The value to compare with. This is compared to the value that is stored in the
          dictionary. When the comparison is performed, the value stored in the dictionary is on
          the left hand side of the operation and this value is on the right hand side.
        type: object
        example: 1.2
      operation:
        $ref: '#/definitions/QueryOperation'
        default: 'EQUAL'
  TimeQueryObject:
    title: Time Query
    description: Time query object
    type: object
    required:
      - operation
      - comparisonValue
    properties:
      operation:
        $ref: '#/definitions/QueryOperation'
      comparisonValue:
        description: ISO-8601 formatted timestamp value to compare
        type: string
        format: iso-date-time
        example: '2017-11-14T15:41:06.106Z'
  RelativeTimeQueryObject:
    title: Relative Time Query
    description: 'Object describing a number of time units used for calculating a date and time relative to the current server time. The calculated date and time will be whole values of the smallest time unit provided; 30 days evaluates to 30 days ago at midnight, and 10 hours evaluates to 10 hours ago at 0 minutes.'
    type: object
    required:
      - unit
      - value
    properties:
      unit:
        description: The unit of time that the value represents.
        type: string
        enum:
          - DAYS
          - HOURS
          - MINUTES
          - SECONDS
        example: DAYS
      value:
        description: Number of whole time units relative to the current server time.
        type: integer
        format: int32
        example: 30
  ResponseFormat:
    title: Response Format
    description: Enum indicating the expected response format (CSV or JSON). If unspecified, JSON is the default.
    type: string
    enum:
      - JSON
      - CSV
    default: 'JSON'
  ProductRequestObject:
    title: Product Request
    type: object
    properties:
      partNumber:
        description: The part number of the product
        type: string
        example: 156502A-11L
      name:
        description: The name of the product
        type: string
        example: cRIO-9030
      family:
        description: The family of the product
        type: string
        example: cRIO
      keywords:
        description: Words or phrases associated with the product
        type: array
        items:
          type: string
        example:
          - keyword1
          - keyword2
      properties:
        description: Key-value pairs associated with the product
        type: object
        additionalProperties:
          type: string
        example:
          key1: value1
      fileIds:
        description: Array of file IDs attached to the product
        type: array
        items:
          type: string
        example: [5ccb19ce5aa0a3348872c3e3]
  ProductResponseObject:
    title: Product Response
    type: object
    properties:
      id:
        description: ID of the product
        type: string
        example: 0365cee9-0e5d-4802-b0f6-9fedb8f08800
      partNumber:
        description: The part number of the product
        type: string
        example: 156502A-11L
      name:
        description: The name of the product
        type: string
        example: cRIO-9030
      family:
        description: The family of the product
        type: string
        example: cRIO
      updatedAt:
        description: >-
          ISO-8601 formatted timestamp indicating when the product
          was last updated.
        type: string
        format: iso-date-time
        example: '2018-05-09T15:07:42.527921Z'
      keywords:
        description: Words or phrases associated with the product
        type: array
        items:
          type: string
        example:
          - keyword1
          - keyword2
      properties:
        description: Key-value pairs associated with the product
        type: object
        additionalProperties:
          type: string
        example:
          key1: value1
      fileIds:
        description: Array of file IDs attached to the product
        type: array
        items:
          type: string
        example: [5ccb19ce5aa0a3348872c3e3]
  ProductUpdateRequestObject:
    title: Product Update Request
    type: object
    properties:
      id:
        description: ID of the product to update
        type: string
        example: 0365cee9-0e5d-4802-b0f6-9fedb8f08800
      name:
        description: The name of the product
        type: string
        example: cRIO-9030
      family:
        description: The family of the product
        type: string
        example: cRIO
      keywords:
        description: Words or phrases associated with the product
        type: array
        items:
          type: string
        example:
          - keyword1
          - keyword2
      properties:
        description: Key-value pairs associated with the product
        type: object
        additionalProperties:
          type: string
        example:
          key1: value1
      fileIds:
        description: Array of file IDs attached to the product
        type: array
        items:
          type: string
        example: [5ccb19ce5aa0a3348872c3e3]
  TestResultRequestObject:
    title: Test Result Request
    type: object
    properties:
      programName:
        description: Program name
        type: string
        example: My Program Name
      status:
        $ref: '#/definitions/StatusObject'
      systemId:
        description: System id
        type: string
        example: my-system
      hostName:
        description: Host name
        type: string
        example: My-Host
      properties:
        description: Test result properties
        type: object
        additionalProperties:
          type: string
        example:
          key1: value1
      keywords:
        description: Words or phrases associated with the test result
        type: array
        items:
          type: string
        example:
          - keyword1
          - keyword2
      serialNumber:
        description: Serial number
        type: string
        example: 123-456
      operator:
        description: Operator
        type: string
        example: admin
      product:
        description: The type of device under test.
        type: string
        example: cRIO-9030
      fileIds:
        description: Array of file ids attached to the test result
        type: array
        items:
          type: string
        example: [df1b63da-4fd8-4466-b721-5a28de036f56]
      startedAt:
        description: ISO-8601 formatted timestamp indicating when the test result began
        type: string
        format: iso-date-time
        example: '2018-05-07T18:58:05.219692Z'
      totalTimeInSeconds:
        description: Total run-time of the test in seconds
        type: number
        format: double
        default: 0
        example: 29.9
  TestResultResponseObject:
    title: Test Result Response
    type: object
    required:
      - id
    properties:
      status:
        $ref: '#/definitions/StatusObject'
      startedAt:
        description: ISO-8601 formatted timestamp indicating when the test result began
        type: string
        format: iso-date-time
        example: '2018-05-07T18:58:05.219692Z'
      updatedAt:
        description: ISO-8601 formatted timestamp indicating when the result was last updated
        type: string
        format: iso-date-time
        example: '2018-05-09T15:07:42.527921Z'
      programName:
        description: Program name
        type: string
        example: My test program
      id:
        description: Id of the test result
        type: string
        example: df1b63da-4fd8-4466-b721-5a28de036f56
      systemId:
        description: Id of the system
        type: string
        example: 9c75f1b5-5882-490e-a2e2-1c14123d68b2
      hostName:
        description: Host name of the system
        type: string
        example: My-Host
      operator:
        description: Name of the operator running the test
        type: string
        example: admin
      product:
        description: The type of device under test.
        type: string
        example: cRIO-9030
      serialNumber:
        description: Sequential number of the device under test
        type: string
        example: abc-123
      totalTimeInSeconds:
        description: Total run-time of the test in seconds
        type: number
        format: double
        example: 29.9
      keywords:
        description: Words or phrases associated with the test result
        type: array
        items:
          type: string
        example:
          - keyword1
          - keyword2
      properties:
        description: Test result properties
        type: object
        additionalProperties:
          type: string
        example:
          key1: value1
      fileIds:
        description: Array of file ids attached to the test result
        type: array
        items:
          type: string
        example: []
      statusTypeSummary:
        description: Status type summary
        type: object
        additionalProperties:
          type: integer
          format: int32
        example:
          FAILED: 5
  TestResultUpdateRequestObject:
    title: Test Result Update
    type: object
    required:
      - id
    properties:
      id:
        description: Test result id to update
        type: string
        example: df1b63da-4fd8-4466-b721-5a28de036f56
      programName:
        description: Program name
        type: string
        example: My Program Name
      status:
        $ref: '#/definitions/StatusObject'
      systemId:
        description: System id
        type: string
        example: my-system
      hostName:
        description: Host name
        type: string
        example: My-Host
      properties:
        description: Test result properties
        type: object
        additionalProperties:
          type: string
        example:
          key1: value1
      keywords:
        description: Words or phrases associated with the test result
        type: array
        items:
          type: string
        example:
          - keyword1
          - keyword2
      serialNumber:
        description: Serial number
        type: string
        example: 123-456
      operator:
        description: Operator
        type: string
        example: admin
      product:
        description: The type of device under test.
        type: string
        example: cRIO-9030
      fileIds:
        description: Array of file ids attached to the test result
        type: array
        items:
          type: string
        example: [df1b63da-4fd8-4466-b721-5a28de036f56]
      startedAt:
        description: ISO-8601 formatted timestamp indicating when the test result began
        type: string
        format: iso-date-time
        example: '2018-05-07T18:58:05.219692Z'
      totalTimeInSeconds:
        description: Total run-time of the test in seconds
        type: number
        format: double
        default: 0
        example: 29.9
  TestResultQueryObject:
    title: Test Result Query
    type: object
    properties:
      ids:
        description: Array of test result ids
        type: array
        items:
          type: string
        example:
          - 1f05c3c8-7a8c-4ebb-a87f-7a60d5dd8938
      programNames:
        description: Array of program names
        type: array
        items:
          type: string
        example:
          - Result Creation Test
      operators:
        description: Array of operators
        type: array
        items:
          type: string
        example:
          - admin
      serialNumbers:
        description: Array of serial numbers
        type: array
        items:
          type: string
        example:
          - 1f05c3c8-7a8c-4ebb-a87f-7a60d5dd8938
      products:
        description: Array of products.
        type: array
        items:
          type: string
        example:
          - cRIO-9030
      systemIds:
        description: Array of system ids
        type: array
        items:
          type: string
        example:
          - 9c75f1b5-5882-490e-a2e2-1c14123d68b2
      hostNames:
        description: Array of host names
        type: array
        items:
          type: string
        example:
          - My-Host
      keywords:
        description: Array of keywords
        type: array
        items:
          type: string
        example:
          - keyword1
          - keyword2
      properties:
        description: Dictionary of key-value property pairs
        type: object
        additionalProperties:
          type: string
          example:
            key1: value1
      updatedAtQuery:
        description: Time query object for the test result's last updated timestamp
        type: array
        items:
          $ref: '#/definitions/TimeQueryObject'
      startedAtQuery:
        description: Time query object for the test result's started at timestamp
        type: array
        items:
          $ref: '#/definitions/TimeQueryObject'
      updatedWithin:
        $ref: '#/definitions/RelativeTimeQueryObject'
      startedWithin:
        $ref: '#/definitions/RelativeTimeQueryObject'
      fileIds:
        description: Array of file ids
        type: array
        items:
          type: string
        example:
          - 5982002b5d67371430c80e73
      statuses:
        description: Array of result statuses
        type: array
        items:
          $ref: '#/definitions/StatusObject'
      sortBy:
        type: array
        items:
          $ref: '#/definitions/ResultSortDefinitionObject'
  UpdateTestResultsRequest:
    title: Update Test Results Request
    type: object
    required:
      - results
    properties:
      results:
        description: Array of test results to update
        type: array
        items:
          $ref: '#/definitions/TestResultUpdateRequestObject'
      replace:
        description: Replace the existing fields instead of merging them
        type: boolean
        default: false
      determineStatusFromSteps:
        description: Determine test result status from the test step statuses
        type: boolean
        default: false
  ProductsAdvancedQuery:
    title: Advanced Query Object for Products
    type: object
    properties:
      filter:
        description: The query filter in Dynamic Linq
        type: string
        example: (name != "cRIO-9030") && (family == @0)
      substitutions:
        description: >-
          Makes substitutions in the query filter expression. Substitutions for the query expression
          are indicated by non-negative integers that are prefixed with the "at" symbol. Each
          substitution in the given expression will be replaced by the element at the corresponding 
          index (zero-based) in this list. For example, "@0" in the filter expression will be replaced with
          the element at the zeroth index of the substitutions list.
        type: array
        items:
          type: object
        example:
          - "cRIO"
      orderBy:
        $ref: '#/definitions/ProductField'
      descending:
        description: ->
          Whether to return the products in descending order.
        type: boolean
        default: false
        example: false
      projection:
        description: >-
          Specifies the product fields to project. When a field value is given here,
          the corresponding field will be present in all returned products, and all
          unspecified fields will be excluded. If no projection is specified,
          all product fields will be returned.
        type: array
        items:
          $ref: '#/definitions/ProductField'
      take:
        description: >-
          The maximum number of products to return.
        type: integer
        format: int32
        default: 1000
        minimum: 0
        example: 1000
      continuationToken:
        description: >-
          A token which allows the user to resume a query at the next item in
          the matching product set. When querying for products, a token will
          be returned if a query may be continued. To obtain the next page of
          products, pass the token to the service on a subsequent request.
        type: string
        example: token
      returnCount:
        description: >-
          Whether to return the total number of products which match the
          provided filter, disregarding the take value.
        type: boolean
        default: false
        example: false
  ResultsAdvancedQuery:
    title: Advanced Query Object for Test Results
    type: object
    properties:
      filter:
        description: The query filter in Dynamic Linq
        type: string
        example: (operator == "user1") || ((programName != "MyProgram") && (totalTimeInSeconds < @0))
      substitutions:
        description: >-
          Makes substitutions in the query filter expression. Substitutions for the query expression
          are indicated by non-negative integers that are prefixed with the "at" symbol. Each
          substitution in the given expression will be replaced by the element at the corresponding 
          index (zero-based) in this list. For example, "@0" in the filter expression will be replaced with
          the element at the zeroth index of the substitutions list.
        type: array
        items:
          type: object
        example:
          - 2.5
      orderBy:
        $ref: '#/definitions/ResultField'
      descending:
        description: ->
          Whether to return the results in descending order.
        type: boolean
        default: false
        example: false
      projection:
        description: >-
          Specifies the result fields to project. When a field value is given here,
          the corresponding field will be present in all returned results, and all
          unspecified fields will be excluded. If no projection is specified,
          all result fields will be returned.
        type: array
        items:
          $ref: '#/definitions/ResultField'
      take:
        description: >-
          The maximum number of products to return.
        type: integer
        format: int32
        default: 1000
        minimum: 0
        example: 1000
      continuationToken:
        description: >-
          A token which allows the user to resume a query at the next item in
          the matching product set. When querying for products, a token will
          be returned if a query may be continued. To obtain the next page of
          products, pass the token to the service on a subsequent request.
        type: string
        example: token
      returnCount:
        description: >-
          Whether to return the total number of products which match the
          provided filter, disregarding the take value.
        type: boolean
        default: false
        example: false
      responseFormat:
        $ref: '#/definitions/ResponseFormat'
  StepsAdvancedQuery:
    title: Advanced Query Object for Test Steps
    type: object
    properties:
      filter:
        description: The query filter in Dynamic Linq
        type: string
        example: (operator == "user1") || ((programName != "MyProgram") && (totalTimeInSeconds < @0))
      substitutions:
        description: >-
          Makes substitutions in the query filter expression. Substitutions for the query expression
          are indicated by non-negative integers that are prefixed with the "at" symbol. Each
          substitution in the given expression will be replaced by the element at the corresponding 
          index (zero-based) in this list. For example, "@0" in the filter expression will be replaced with
          the element at the zeroth index of the substitutions list.
        type: array
        items:
          type: object
        example:
          - 2.5
      orderBy:
        $ref: '#/definitions/StepField'
      descending:
        description: ->
          Whether to return the steps in descending order.
        type: boolean
        default: false
        example: false
      projection:
        description: >-
          Specifies the step fields to project. When a field value is given here,
          the corresponding field will be present in all returned steps, and all
          unspecified fields will be excluded. If no projection is specified,
          all step fields will be returned.
        type: array
        items:
          $ref: '#/definitions/StepField'
      take:
        description: >-
          The maximum number of steps to return.
        type: integer
        format: int32
        default: 1000
        minimum: 0
        example: 1000
      continuationToken:
        description: >-
          A token which allows the user to resume a query at the next item in
          the matching step set. When querying for steps, a token will
          be returned if a query may be continued. To obtain the next page of
          steps, pass the token to the service on a subsequent request.
        type: string
        example: token
      returnCount:
        description: >-
          Whether to return the total number of steps which match the
          provided filter, disregarding the take value.
        type: boolean
        default: false
        example: false
      responseFormat:
        $ref: '#/definitions/ResponseFormat'
  StepIdResultIdPair:
    title: Step Id / Result Id Pair
    type: object
    required:
      - stepId
      - resultId
    properties:
      stepId:
        type: string
        example: 1f05c3c8-7a8c-4ebb-a87f-7a60d5dd8938
      resultId:
        type: string
        example: 1f05c3c8-7a8c-4ebb-a87f-7a60d5dd8938
  StepDataObject:
    title: Step Data
    description: Data returned by the test step
    type: object
    properties:
      text:
        description: Text string describing the output data
        type: string
        example: My output string
      parameters:
        description: Array of properties objects
        type: array
        items:
          description: Dictionary of key-value property pairs
          type: object
          additionalProperties:
            type: string
          example:
            key1: value1
        example:
          - key1: value1
            key2: value2
          - key1: value3
  TestStepsDeleteRequest:
    title: Test Steps Delete Request
    type: object
    required:
      - steps
    properties:
      steps:
        description: Array of test step id and result id pairs to delete
        type: array
        items:
          $ref: '#/definitions/StepIdResultIdPair'
  TestStepQueryObject:
    title: Test Step Query
    type: object
    properties:
      excludeFields:
        description: Array of step field names to exclude
        type: array
        items:
          $ref: '#/definitions/StepField'
      names:
        description: Array of test step names
        type: array
        items:
          type: string
        example:
          - My Test Step
      stepIds:
        description: Array of step ids
        type: array
        items:
          type: string
        example:
          - Step1
      parentIds:
        description: Array of parent step ids
        type: array
        items:
          type: string
        example:
          - 3265bc91-f214-4efa-adfd-56f8ea717349
      resultIds:
        description: Array of result ids
        type: array
        items:
          type: string
        example:
          - 9c75f1b5-5882-490e-a2e2-1c14123d68b2
      path:
        description: Step path
        type: string
        example: root.step1.step2
      pathIds:
        description: Array of path ids
        type: array
        items:
          type: string
        example:
          - 9c75f1b5-5882-490e-a2e2-1c14123d68b2
          - 1f05c3c8-7a8c-4ebb-a87f-7a60d5dd8938
      statuses:
        description: Array of step statuses
        type: array
        items:
          $ref: '#/definitions/StatusObject'
      inputs:
        description: >-
          This is a query on the inputs dictionary.  It is represented by an array of an array of
          objects referred to as 'Dictionary Query Objects'. When querying, all elements of the
          inner array of 'Dictionary Query Objects' must match (an "and" relationship within the
          inner array).  Only one element in the outer array needs to match (an "or" relationship
          within the outer array).
        type: array
        items:
          description: >-
            Inner array of 'Dictionary Query Objects' to query for. When querying, all elements of
            the inner array of 'Dictionary Query Objects' must match (an "and" relationship within
            the inner array).
          type: array
          items:
            $ref: '#/definitions/DictionaryQueryObject'
        example:
          - - name: 'Current'
              value: 1.2
            - name: 'Voltage'
              value: 2.3
              operation: 'LESS_THAN_OR_EQUAL'
      outputs:
        description: >-
          This is a query on the outputs dictionary.  It is represented by an array of an array of
          objects referred to as 'Dictionary Query Objects'. When querying, all elements of the
          inner array of 'Dictionary Query Objects' must match (an "and" relationship within the
          inner array).  Only one element in the outer array needs to match (an "or" relationship
          within the outer array).
        type: array
        items:
          description: >-
            Inner array of 'Dictionary Query Objects' to query for. When querying, all elements of
            the inner array of 'Dictionary Query Objects' must match (an "and" relationship within
            the inner array).
          type: array
          items:
            $ref: '#/definitions/DictionaryQueryObject'
        example:
          - - name: 'Power'
              value: 1.4
              operation: 'GREATER_THAN_OR_EQUAL'
            - name: 'Power'
              value: 2.3
              operation: 'LESS_THAN_OR_EQUAL'
      startedAtQuery:
        description: Time query object
        type: array
        items:
          $ref: '#/definitions/TimeQueryObject'
      updatedAtQuery:
        description: Time query object
        type: array
        items:
          $ref: '#/definitions/TimeQueryObject'
      sortBy:
        type: array
        items:
          $ref: '#/definitions/StepSortDefinitionObject'
  TestStepRequestObject:
    title: Test Step Request
    type: object
    properties:
      stepId:
        description: Step id
        type: string
        example: Step1
      parentId:
        description: Parent step id
        type: string
        example: root
      resultId:
        description: Result id
        type: string
        example: 1f05c3c8-7a8c-4ebb-a87f-7a60d5dd8938
      children:
        description: Nested child steps
        type: array
        items:
          $ref: '#/definitions/TestStepRequestObject'
        example: []
      data:
        $ref: '#/definitions/StepDataObject'
      dataModel:
        description: Data model for the step
        type: string
        example: TestStand
      name:
        description: Step name
        type: string
        example: My Step
      startedAt:
        description: ISO-8601 formatted timestamp indicating when the test result began
        type: string
        format: iso-date-time
        example: '2018-05-07T18:58:05.219692Z'
      status:
        $ref: '#/definitions/StatusObject'
      stepType:
        description: Step type
        type: string
        example: NumericLimitTest
      totalTimeInSeconds:
        description: Total number of seconds the step took to execute
        type: number
        format: double
        default: 0
        example: 29.9
      inputs:
        description: Inputs and their values passed to the test
        type: array
        items:
          $ref: '#/definitions/NamedValueObject'
      outputs:
        description: Outputs and their values logged by the test
        type: array
        items:
          $ref: '#/definitions/NamedValueObject'
  TestStepCreateOrUpdateRequestObject:
    title: Test Step Create or Update Request
    type: object
    required:
      - steps
    properties:
      steps:
        description: Array of test steps to create
        type: array
        items:
          $ref: '#/definitions/TestStepRequestObject'
      updateResultTotalTime:
        description: Determine test result total time from the test step total times.
        type: boolean
        default: false
  TestStepResponseObject:
    title: Test Step Response
    type: object
    properties:
      name:
        description: Step name
        type: string
        example: My Step Name
      stepType:
        description: Step type
        type: string
        example: NumericLimitTest
      stepId:
        description: Step id
        type: string
        example: Step1
      parentId:
        description: Parent step id
        type: string
        example: root
      resultId:
        description: Result id
        type: string
        example: 1f05c3c8-7a8c-4ebb-a87f-7a60d5dd8938
      path:
        description: Step path
        type: string
        example: root.My Step Name
      pathIds:
        description: Ids of the steps in the path
        type: array
        items:
          type: string
        example:
          - root
          - Step1
      status:
        $ref: '#/definitions/StatusObject'
      totalTimeInSeconds:
        description: Total number of seconds the step took to execute
        type: number
        format: double
        example: 0
      startedAt:
        description: ISO-8601 formatted timestamp indicating when the test result began
        type: string
        format: iso-date-time
        example: '2018-05-07T18:58:05.219692Z'
      updatedAt:
        description: ISO-8601 formatted timestamp indicating when the result was last updated
        type: string
        format: iso-date-time
        example: '2018-05-09T15:07:42.527921Z'
      inputs:
        description: Inputs and their values passed to the test
        type: array
        items:
          $ref: '#/definitions/NamedValueObject'
      outputs:
        description: Outputs and their values logged by the test
        type: array
        items:
          $ref: '#/definitions/NamedValueObject'
      dataModel:
        description: Custom string defining the model of the data object
        type: string
        example: TestStand
      data:
        $ref: '#/definitions/StepDataObject'
responses:
  Error:
    description: Error
    schema:
      description: Error response
      title: ErrorResponse
      type: object
      properties:
        error:
          $ref: '#/definitions/Error'
  Unauthorized:
    description: Not authorized
    headers:
      WWW_Authenticate:
        description: Information for how to authenticate
        type: string
  ProductsSuccessResponse:
    description: Products Success Response
    schema:
      description: Products Success Response
      title: ProductsSuccessResponse
      type: object
      required:
        - products
      properties:
        products:
          description: Array of products
          type: array
          items:
            $ref: '#/definitions/ProductResponseObject'
  ProductsPartialSuccessResponse:
    description: Products Partial Success Response
    schema:
      description: Products Partial Success Response
      title: ProductsPartialSuccessResponse
      type: object
      required:
        - products
        - failed
        - error
      properties:
        products:
          description: Array of products
          type: array
          items:
            $ref: '#/definitions/ProductResponseObject'
        failed:
          description: Array of product requests that failed
          type: array
          items:
            $ref: '#/definitions/ProductRequestObject'
        error:
          $ref: '#/definitions/Error'
  DeleteProductsResponse:
    description: Delete Products Response
    schema:
      description: Delete Products Response
      title: DeleteProductsResponse
      type: object
      required:
        - ids
        - failed
        - error
      properties:
        ids:
          description: Array of product ids to delete
          type: array
          items:
            type: string
        failed:
          description: Array of product ids that failed to delete
          type: array
          items:
            type: string
        error:
          $ref: '#/definitions/Error'
  ProductsQueryResponse:
    description: Products Query Response
    schema:
      description: Products Query Response
      title: ProductsQueryResponse
      type: object
      x-ni-sparse: true
      required:
        - products
      properties:
        products:
          description: Array of products
          type: array
          items:
            $ref: '#/definitions/ProductResponseObject'
        continuationToken:
          description: >-
            A token which allows the user to resume this query at the next item
            in the matching product set. In order to continue paginating a
            query, pass this token to the service on a subsequent request. The
            service will respond with a new continuation token. To paginate a
            set of products, continue sending requests with the newest
            continuation token provided by the service, until this value is
            null.
          type: string
          example: "token"
        totalCount:
          description: >-
            The number of matching products, if returnCount is true.
            This value is not present if returnCount is false.
          type: integer
          format: int64
  ResultsSuccessResponse:
    description: Test Results Success Response
    schema:
      description: Test Results Success Response
      title: ResultsSuccessResponse
      type: object
      required:
        - results
      properties:
        results:
          description: Array of test results
          type: array
          items:
            $ref: '#/definitions/TestResultResponseObject'
  ResultsPartialSuccessResponse:
    description: Test Results Partial Success Response
    schema:
      description: Test Results Partial Success Response
      title: ResultsPartialSuccessResponse
      type: object
      required:
        - results
        - failed
        - error
      properties:
        results:
          description: Array of test results
          type: array
          items:
            $ref: '#/definitions/TestResultResponseObject'
        failed:
          description: Array of test result requests that failed
          type: array
          items:
            $ref: '#/definitions/TestResultRequestObject'
        error:
          $ref: '#/definitions/Error'
  DeleteResultsResponse:
    description: Delete Test Results Response
    schema:
      description: Delete Test Results Response
      title: DeleteResultsResponse
      type: object
      required:
        - ids
        - failed
        - error
      properties:
        ids:
          description: Array of test result ids to delete
          type: array
          items:
            type: string
        failed:
          description: Array of test result ids that failed to delete
          type: array
          items:
            type: string
        error:
          $ref: '#/definitions/Error'
  ResultsQueryResponse:
    description: Test Results Query Response
    schema:
      description: Test Results Query Response
      title: ResultsQueryResponse
      type: object
      x-ni-sparse: true
      required:
        - results
      properties:
        results:
          description: Array of test results
          type: array
          items:
            $ref: '#/definitions/TestResultResponseObject'
        continuationToken:
          description: >-
            A token which allows the user to resume this query at the next item
            in the matching result set. In order to continue paginating a
            query, pass this token to the service on a subsequent request. The
            service will respond with a new continuation token. To paginate a
            set of results, continue sending requests with the newest
            continuation token provided by the service, until this value is
            null.
          type: string
          example: "token"
        totalCount:
          description: >-
            The number of matching test results, if returnCount is true.
            This value is not present if returnCount is false.
          type: integer
          format: int64
  StepsSuccessResponse:
    description: Test Steps Success Response
    schema:
      description: Test Steps Success Response
      title: StepsSuccessResponse
      type: object
      required:
        - steps
      properties:
        steps:
          description: Array of test steps
          type: array
          items:
            $ref: '#/definitions/TestStepResponseObject'
  StepsPartialSuccessResponse:
    description: Test Steps Partial Success Response
    schema:
      description: Test Steps Partial Success Response
      title: StepsPartialSuccessResponse
      type: object
      required:
        - steps
        - failed
        - error
      properties:
        steps:
          description: Array of test steps
          type: array
          items:
            $ref: '#/definitions/TestStepResponseObject'
        failed:
          description: Array of test step requests that failed
          type: array
          items:
            $ref: '#/definitions/TestStepRequestObject'
        error:
          $ref: '#/definitions/Error'
  StepsQueryResponse:
    description: Test Steps Query Response
    schema:
      description: Test Steps Query Response
      title: StepsQueryResponse
      type: object
      x-ni-sparse: true
      required:
        - steps
      properties:
        steps:
          description: Array of test steps
          type: array
          items:
            $ref: '#/definitions/TestStepResponseObject'
        continuationToken:
          description: >-
            A token which allows the user to resume this query at the next item
            in the matching step set. In order to continue paginating a
            query, pass this token to the service on a subsequent request. The
            service will respond with a new continuation token. To paginate a
            set of steps, continue sending requests with the newest
            continuation token provided by the service, until this value is
            null.
          type: string
          example: "token"
        totalCount:
          description: >-
            The number of matching test steps, if returnCount is true.
            This value is not present if returnCount is false.
          type: integer
          format: int64
  StepsDeletePartialSuccessResponse:
    description: Delete Test Steps Partial Success Response
    schema:
      description: Delete Test Steps Partial Success Response
      title: StepsDeletePartialSuccessResponse
      type: object
      properties:
        steps:
          description: Array of test step id result id pairs that were deleted
          type: array
          items:
            $ref: '#/definitions/StepIdResultIdPair'
        failed:
          description: Array of test step id result id pairs that failed to delete
          type: array
          items:
            $ref: '#/definitions/StepIdResultIdPair'
        error:
          $ref: '#/definitions/Error'
paths:
  /:
    get:
      tags: [versioning]
      summary: API information
      description: Returns information about API versions and available operations.
      operationId: RootEndpoint
      x-ni-request-all-privileges: true
      # Explicitly mark security as an empty array - this route does not require any privileges.
      # Marking it this way prevents it from inheriting the top-level security settings.
      security: []
      responses:
        200:
          description: OK
          schema:
            description: Version information
            title: RootEndpointResponse
            type: object
            properties:
              v1:
                $ref: '#/definitions/V1Operations'
              v2:
                $ref: '#/definitions/V2Operations'
              version:
                description: Implementation version of the web service
                type: string
  /v1:
    get:
      tags: [versioning]
      summary: API version 1 information
      description: Returns available operations for version 1 of the API.
      operationId: RootEndpointV1
      x-ni-request-all-privileges: true
      # Explicitly mark security as an empty array - this route does not require any privileges.
      # Marking it this way prevents it from inheriting the top-level security settings.
      security: []
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/V1Operations'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/Error'
  /v2:
    get:
      tags: [versioning]
      summary: API version 2 information
      description: Returns available operations for version 2 of the API.
      operationId: RootEndpointV2
      x-ni-request-all-privileges: true
      # Explicitly mark security as an empty array - this route does not require any privileges.
      # Marking it this way prevents it from inheriting the top-level security settings.
      security: []
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/V2Operations'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/Error'
  /v2/query-products:
    post:
      tags: [products]
      summary: Queries products
      description: >-
        Uses the Dynamic Linq query language to specify a filter and return
        product. An empty request body queries all products.
      operationId: query-products-v2
      x-ni-operation: queryProducts
      x-ni-privilege: Read
      parameters:
        - in: body
          name: postBody
          description: Query filter
          required: false
          schema:
            $ref: '#/definitions/ProductsAdvancedQuery'
      responses:
        200:
          $ref: '#/responses/ProductsQueryResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/products:
    get:
      tags: [products]
      summary: Gets products
      description: Gets a list of products.
      operationId: get-products
      x-ni-operation: getProducts
      x-ni-privilege: Read
      parameters:
        - in: query
          name: continuationToken
          description: >-
            A token which allows the user to resume a query at the next item in
            the matching product set. When querying for products, a token will
            be returned if a query may be continued. To obtain the next page of
            products, pass the token to the service on a subsequent request.
          type: string
        - in: query
          name: take
          description: >-
            The maximum number of products to return.
          type: integer
          format: int32
          default: -1
          minimum: -1
        - in: query
          name: returnCount
          description: >-
            Whether to return the total number of products,
            disregarding the take value.
          type: boolean
          default: false
      responses:
        200:
          $ref: '#/responses/ProductsQueryResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
    post:
      tags: [products]
      summary: Creates new products
      description: Creates new products from the supplied models. The server automatically generates the product ids.
      operationId: create-products
      x-ni-operation: createProducts
      x-ni-privilege: Write
      parameters:
        - in: body
          name: requestBody
          description: Product object
          required: true
          schema:
            description: Array of products to create
            title: CreateProductsRequest
            type: object
            required:
              - products
            properties:
              products:
                description: Array of products to create
                type: array
                items:
                  $ref: '#/definitions/ProductRequestObject'
      responses:
        200:
          $ref: '#/responses/ProductsPartialSuccessResponse'
        201:
          $ref: '#/responses/ProductsSuccessResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/products/{productId}:
    get:
      tags: [products]
      summary: Gets a product
      description: Gets a single product.
      operationId: get-product
      x-ni-operation: getProducts
      x-ni-privilege: Read
      parameters:
        - in: path
          name: productId
          description: The id of the product to get.
          type: string
          required: true
      responses:
        200:
          description: Get Product Response
          schema:
            $ref: '#/definitions/ProductResponseObject'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
    delete:
      tags: [products]
      summary: Deletes a product
      description: Deletes the product with the specified id. The request succeeds for products that do not exist.
      operationId: DeleteProduct
      x-ni-operation: deleteProduct
      x-ni-privilege: Write
      parameters:
        - in: path
          name: productId
          description: Id of the product to delete
          type: string
          required: true
      responses:
        204:
          description: The resource was deleted successfully.
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/update-products:
    post:
      tags: [products]
      summary: Updates existing products
      description: Updates existing products by merging or replacing values.
      operationId: update-products
      x-ni-operation: updateProducts
      x-ni-privilege: Write
      parameters:
        - in: body
          name: requestBody
          description: Array of products to update
          required: true
          schema:
            description: Array of products to update
            title: UpdateProductsRequest
            type: object
            required:
              - products
            properties:
              products:
                description: Array of products to update
                type: array
                items:
                  $ref: '#/definitions/ProductUpdateRequestObject'
              replace:
                description: Replace the existing fields instead of merging them
                type: boolean
                default: false
      responses:
        200:
          $ref: '#/responses/ProductsPartialSuccessResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/delete-products:
    post:
      tags: [products]
      summary: Deletes products
      description: Deletes multiple products in a single request.
      operationId: delete-products
      x-ni-operation: deleteProducts
      x-ni-privilege: Write
      parameters:
        - in: body
          name: requestBody
          description: Array of products
          required: true
          schema:
            description: Array of products
            title: DeleteProductsRequest
            type: object
            required:
              - ids
            properties:
              ids:
                description: Array of product ids to delete
                type: array
                items:
                  type: string
                  example: 1f05c3c8-7a8c-4ebb-a87f-7a60d5dd8938
      responses:
        200:
          $ref: '#/responses/DeleteProductsResponse'
        204:
          description: The resources were deleted successfully.
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/query-results:
    post:
      tags: [results]
      summary: Queries test results
      description: >-
        Uses the Dynamic Linq query language to specify a filter and return
        test results. An empty request body queries all test results.
      operationId: query-results-v2
      x-ni-operation: queryResults
      x-ni-privilege: Read
      parameters:
        - in: body
          name: postBody
          description: Query filter
          required: false
          schema:
            $ref: '#/definitions/ResultsAdvancedQuery'
      produces:
        - application/json
        - text/csv
      responses:
        200:
          $ref: '#/responses/ResultsQueryResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/results:
    get:
      tags: [results]
      summary: Gets test results
      description: Gets a list of test results.
      operationId: get-results
      x-ni-operation: getResults
      x-ni-privilege: Read
      parameters:
        - in: query
          name: continuationToken
          description: >-
            A token which allows the user to resume a query at the next item in
            the matching result set. When querying for results, a token will
            be returned if a query may be continued. To obtain the next page of
            results, pass the token to the service on a subsequent request.
          type: string
        - in: query
          name: take
          description: >-
            The maximum number of results to return.
          type: integer
          format: int32
          default: -1
          minimum: -1
        - in: query
          name: returnCount
          description: >-
            Whether to return the total number of results,
            disregarding the take value.
          type: boolean
          default: false
      responses:
        200:
          $ref: '#/responses/ResultsQueryResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
    post:
      tags: [results]
      summary: Creates new test results
      description: Creates new test results from the supplied models. The server automatically generates the result ids. The server will populate the start time if one is not provided.
      operationId: create-results
      x-ni-operation: createResults
      x-ni-privilege: Write
      x-ni-oldest-compatible-version: 1
      parameters:
        - in: body
          name: requestBody
          description: Result object
          required: true
          schema:
            description: Array of test results to create
            title: CreateTestResultsRequest
            type: object
            required:
              - results
            properties:
              results:
                description: Array of test results to create
                type: array
                items:
                  $ref: '#/definitions/TestResultRequestObject'
      responses:
        200:
          $ref: '#/responses/ResultsPartialSuccessResponse'
        201:
          $ref: '#/responses/ResultsSuccessResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/results/{resultId}:
    get:
      tags: [results]
      summary: Gets a test result
      description: Gets a single test result.
      operationId: get-result
      x-ni-operation: getResults
      x-ni-privilege: Read
      parameters:
        - in: path
          name: resultId
          description: The id of the result to get.
          type: string
          required: true
      responses:
        200:
          description: Get Test Result Response
          schema:
            $ref: '#/definitions/TestResultResponseObject'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
    delete:
      tags: [results]
      summary: Deletes a test result
      description: Deletes the test result with the specified id. The request succeeds for result ids that do not exist.
      operationId: DeleteResult
      x-ni-operation: deleteResult
      x-ni-privilege: Write
      x-ni-oldest-compatible-version: 1
      parameters:
        - in: path
          name: resultId
          description: Id of the test result to delete
          type: string
          required: true
        - in: query
          name: deleteSteps
          description: Indicates whether to delete the test steps associated with the test result
          type: boolean
          default: true
      responses:
        204:
          description: The resource was deleted successfully.
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/update-results:
    post:
      tags: [results]
      summary: Updates existing test results
      description: Updates existing test results by merging or replacing values.
      operationId: update-results-v2
      x-ni-operation: updateResults
      x-ni-privilege: Write
      parameters:
        - in: body
          name: requestBody
          description: Array of test results to update
          required: true
          schema:
            $ref: '#/definitions/UpdateTestResultsRequest'
      responses:
        200:
          $ref: '#/responses/ResultsPartialSuccessResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/delete-results:
    post:
      tags: [results]
      summary: Deletes test results
      description: Deletes multiple test results in a single request.
      operationId: delete-results
      x-ni-operation: deleteResults
      x-ni-privilege: Write
      x-ni-oldest-compatible-version: 1
      parameters:
        - in: body
          name: requestBody
          description: Array of test result ids
          required: true
          schema:
            description: Array of test result ids
            title: DeleteResultsRequest
            type: object
            required:
              - ids
            properties:
              ids:
                description: Array of test result ids to delete
                type: array
                items:
                  type: string
                  example: 1f05c3c8-7a8c-4ebb-a87f-7a60d5dd8938
              deleteSteps:
                description: Indicates whether to delete the test steps associated with the test result
                type: boolean
                default: true
      responses:
        200:
          $ref: '#/responses/DeleteResultsResponse'
        204:
          description: The resources were deleted successfully.
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/query-steps:
    post:
      tags: [steps]
      summary: Queries test steps
      description: >-
        Uses the Dynamic Linq query language to specify a filter and return
        test steps. An empty request body queries all test steps.
      operationId: query-steps-v2
      x-ni-operation: querySteps
      x-ni-privilege: Read
      parameters:
        - in: body
          name: postBody
          description: Query filter
          required: false
          schema:
            $ref: '#/definitions/StepsAdvancedQuery'
      produces: 
        - application/json
        - text/csv
      responses:
        200:
          $ref: '#/responses/StepsQueryResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/steps:
    get:
      tags: [steps]
      summary: Gets test steps
      description: Gets a list of test steps.
      operationId: get-steps
      x-ni-operation: getSteps
      x-ni-privilege: Read
      parameters:
        - in: query
          name: continuationToken
          description: >-
            A token which allows the user to resume a query at the next item in
            the matching step set. When querying for steps, a token will
            be returned if a query may be continued. To obtain the next page of
            steps, pass the token to the service on a subsequent request.
          type: string
        - in: query
          name: take
          description: >-
            The maximum number of steps to return.
          type: integer
          format: int32
          default: -1
          minimum: -1
        - in: query
          name: returnCount
          description: >-
            Whether to return the total number of results,
            disregarding the take value.
          type: boolean
          default: false
      responses:
        200:
          $ref: '#/responses/StepsQueryResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
    post:
      tags: [steps]
      summary: Creates new test steps
      description: Creates new test steps from the supplied models. The result associated with the step must exist prior to step creation. The server automatically generates step ids if not supplied.
      operationId: create-steps-v2
      x-ni-operation: createSteps
      x-ni-privilege: Write
      parameters:
        - in: body
          name: requestBody
          description: Test step object
          required: true
          schema:
            $ref: '#/definitions/TestStepCreateOrUpdateRequestObject'
      responses:
        200:
          $ref: '#/responses/StepsPartialSuccessResponse'
        201:
          $ref: '#/responses/StepsSuccessResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/results/{resultId}/steps/{stepId}:
    get:
      tags: [steps]
      summary: Gets a test step
      description: Gets a single test step.
      operationId: get-step
      x-ni-operation: getSteps
      x-ni-privilege: Read
      parameters:
        - in: path
          name: resultId
          description: The resultId of the step to get.
          type: string
          required: true
        - in: path
          name: stepId
          description: The stepId of the step to get.
          type: string
          required: true
      responses:
        200:
          description: Get Test Step Response
          schema:
            $ref: '#/definitions/TestStepResponseObject'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
    delete:
      tags: [steps]
      summary: Deletes a test step
      description: Deletes the test step with the specified id. The request succeeds for step ids that do not exist.
      operationId: DeleteStep
      x-ni-operation: deleteStep
      x-ni-privilege: Write
      x-ni-oldest-compatible-version: 1
      parameters:
        - in: path
          name: resultId
          description: Id of the test result the step belongs to
          type: string
          required: true
        - in: path
          name: stepId
          description: Id of the test step to delete
          type: string
          required: true
        - in: query
          name: updateResultTotalTime
          description: Determine test result total time from the test step total times.
          type: boolean
          default: false
      responses:
        204:
          description: The resource was deleted successfully.
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/update-steps:
    post:
      tags: [steps]
      summary: Updates existing test steps
      description: Updates existing steps by merging or replacing values.
      operationId: update-steps-v2
      x-ni-operation: updateSteps
      x-ni-privilege: Write
      parameters:
        - in: body
          name: requestBody
          description: Array of test steps
          required: true
          schema:
            $ref: '#/definitions/TestStepCreateOrUpdateRequestObject'
      responses:
        200:
          $ref: '#/responses/StepsPartialSuccessResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v2/delete-steps:
    post:
      tags: [steps]
      summary: Deletes test steps
      description: Deletes multiple test steps in a single request.
      operationId: delete-steps
      x-ni-operation: deleteSteps
      x-ni-privilege: Write
      x-ni-oldest-compatible-version: 1
      parameters:
        - in: body
          name: requestBody
          description: Delete steps request
          required: true
          schema:
            $ref: '#/definitions/TestStepsDeleteRequest'
        - in: query
          name: updateResultTotalTime
          description: Determine test result total time from the test step total times.
          type: boolean
          default: false
      responses:
        200:
          $ref: '#/responses/StepsDeletePartialSuccessResponse'
        204:
          description: The resources were deleted successfully.
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v1/ping:
    get:
      tags: [deprecated]
      summary: Pings the test monitor service
      description: Deprecated. Pings the test monitor service to ensure that it is online.
      operationId: ping
      x-ni-privilege: Read
      deprecated: true
      responses:
        204:
          description: No Content
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v1/results:
    get:
      tags: [deprecated]
      summary: Gets test results
      description: Gets a list of test results.
      operationId: get-results-v1
      x-ni-operation: getResults
      x-ni-privilege: Read
      deprecated: true
      parameters:
        - in: query
          name: skip
          type: integer
          format: int32
          default: 0
          minimum: 0
        - in: query
          name: take
          type: integer
          format: int32
          default: -1
          minimum: -1
      responses:
        200:
          $ref: '#/responses/ResultsQueryResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
    put:
      tags: [deprecated]
      summary: Updates existing test results
      description: Updates existing test results by merging or replacing values.
      operationId: update-results
      x-ni-operation: updateResults
      x-ni-privilege: Write
      deprecated: true
      parameters:
        - in: body
          name: requestBody
          description: Array of test results to update
          required: true
          schema:
            $ref: '#/definitions/UpdateTestResultsRequest'
      responses:
        200:
          $ref: '#/responses/ResultsPartialSuccessResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v1/query-results:
    post:
      tags: [deprecated]
      summary: Queries test results
      description: Uses input criteria to filter and return test results. An empty request body queries all test results.
      operationId: query-results
      x-ni-operation: queryResults
      x-ni-privilege: Read
      deprecated: true
      parameters:
        - in: body
          name: postBody
          description: Result query object
          required: false
          schema:
            $ref: '#/definitions/TestResultQueryObject'
        - in: query
          name: skip
          type: integer
          format: int32
          default: 0
          minimum: 0
        - in: query
          name: take
          type: integer
          format: int32
          default: -1
          minimum: -1
      responses:
        200:
          $ref: '#/responses/ResultsQueryResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v1/steps:
    get:
      tags: [deprecated]
      summary: Gets test steps
      description: Gets a list of test steps.
      operationId: get-steps-v1
      x-ni-operation: getSteps
      x-ni-privilege: Read
      deprecated: true
      parameters:
        - in: query
          name: skip
          type: integer
          format: int32
          default: 0
          minimum: 0
        - in: query
          name: take
          type: integer
          format: int32
          default: -1
          minimum: -1
      responses:
        200:
          $ref: '#/responses/StepsQueryResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
    put:
      tags: [deprecated]
      summary: Update test steps
      description: Updates existing test steps by replacing values for the specified fields.
      operationId: update-steps
      x-ni-operation: updateSteps
      x-ni-privilege: Write
      deprecated: true
      parameters:
        - in: body
          name: requestBody
          description: Array of test steps
          required: true
          schema:
            $ref: '#/definitions/TestStepCreateOrUpdateRequestObject'
        - in: query
          name: updateResultTotalTime
          description: Determine test result total time from the test step total times.
          type: boolean
          default: false
      responses:
        200:
          $ref: '#/responses/StepsPartialSuccessResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
    post:
      tags: [deprecated]
      summary: Creates new test steps
      description: Creates new test steps from the supplied models. The result associated with the step must exist prior to step creation. The server automatically generates step ids if not supplied.
      operationId: create-steps
      x-ni-operation: createSteps
      x-ni-privilege: Write
      deprecated: true
      parameters:
        - in: body
          name: requestBody
          description: Test step object
          required: true
          schema:
            $ref: '#/definitions/TestStepCreateOrUpdateRequestObject'
        - in: query
          name: updateResultTotalTime
          description: Determine test result total time from the test step total times.
          type: boolean
          default: false
      responses:
        200:
          $ref: '#/responses/StepsPartialSuccessResponse'
        201:
          $ref: '#/responses/StepsSuccessResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'
  /v1/query-steps:
    post:
      tags: [deprecated]
      summary: Queries test steps
      description: Uses input criteria to filter and return test steps. An empty request body queries all test steps.
      operationId: query-steps
      x-ni-operation: querySteps
      x-ni-privilege: Read
      deprecated: true
      parameters:
        - in: body
          name: postBody
          description: Step query object
          required: false
          schema:
            $ref: '#/definitions/TestStepQueryObject'
        - in: query
          name: skip
          type: integer
          format: int32
          default: 0
          minimum: 0
        - in: query
          name: take
          type: integer
          format: int32
          default: -1
          minimum: -1
      responses:
        200:
          $ref: '#/responses/StepsQueryResponse'
        401:
          $ref: '#/responses/Unauthorized'
        default:
          $ref: '#/responses/Error'